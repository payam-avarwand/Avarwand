<!DOCTYPE html>
<html lang="en" x-data="app()" x-init="initLang(); initAuth()">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Terms of Use | Avarwand</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Poppins', 'sans-serif'],
            fa: ['B Nazanin', 'sans-serif'],
            faTitle: ['B Titr', 'sans-serif'],
          },
          colors: {
            primary: '#7C3AED',
            accent: '#EC4899',
            dark: '#0F0F1A',
            card: '#1A1A2E',
          },
        }
      }
    }
  </script>

  <!-- Alpine.js -->
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <!-- CryptoJS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

  <!-- Auth System -->
  <script src="auth.js"></script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/b-nazanin@1.0.0/css/b-nazanin.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/b-titr@1.0.0/css/b-titr.min.css" rel="stylesheet">

  <style>
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: #0F0F1A; }
    ::-webkit-scrollbar-thumb { background: linear-gradient(#7C3AED, #EC4899); border-radius: 3px; }
    html { scroll-behavior: smooth; }
    .glass { background: rgba(26, 26, 46, 0.7); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 1px solid rgba(124, 58, 237, 0.2); }
    [x-cloak] { display: none !important; }
    .fa-title { line-height: 1.15; padding-top: 0.75rem; padding-bottom: 0.75rem; }
    footer { direction: ltr !important; text-align: center !important; font-family: 'Poppins', sans-serif !important; font-size: 0.875rem; }
    .navbar-brand { @apply text-white font-bold text-7xl; }
    .navbar-brand.fa { font-family: 'B Titr', sans-serif !important; }

    /* فونت فارسی فقط برای متن محتوا */
    .terms-content { font-family: 'B Nazanin', sans-serif !important; }
  </style>
</head>
<body class="bg-dark text-gray-100 min-h-screen" :class="lang === 'fa' ? 'font-fa' : 'font-sans'">

  <!-- Language Selector -->
  <div x-data="{ open: false }" class="fixed top-4 left-4 z-50">
    <button @click="open = !open" class="glass p-1 rounded-full shadow-xl flex items-center gap-1 transition-all hover:scale-110">
      <img :src="flag(lang)" alt="Flag" class="w-5 h-5 rounded-full">
      <svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
      </svg>
    </button>
    <div x-show="open" @click.outside="open = false" class="absolute left-0 mt-2 w-40 glass rounded-xl shadow-2xl py-2 overflow-hidden text-sm">
      <button @click="setLang('en'); open = false" class="flex items-center gap-2 px-3 py-2 hover:bg-primary/20 w-full text-left">
        <img src="https://flagcdn.com/us.svg" class="w-4 h-4 rounded-full"> English
      </button>
      <button @click="setLang('fa'); open = false" class="flex items-center gap-2 px-3 py-2 hover:bg-primary/20 w-full text-left">
        <img src="https://flagcdn.com/ir.svg" class="w-4 h-4 rounded-full"> Persian
      </button>
      <button @click="setLang('de'); open = false" class="flex items-center gap-2 px-3 py-2 hover:bg-primary/20 w-full text-left">
        <img src="https://flagcdn.com/de.svg" class="w-4 h-4 rounded-full"> Deutsch
      </button>
    </div>
  </div>

  <!-- Navbar -->
  <nav x-data="{ open: false, scrolled: false }" @scroll.window="scrolled = window.scrollY > 50"
       :class="scrolled ? 'bg-dark/90 glass shadow-2xl' : 'bg-transparent'"
       class="fixed top-0 w-full z-40 transition-all duration-500">
    <div class="container mx-auto px-6 py-5 flex justify-between items-center">
      <a :href="'index.html?lang=' + lang" :class="lang === 'fa' ? 'navbar-brand fa' : 'navbar-brand'" x-text="brand()"></a>
      <ul class="hidden md:flex space-x-8 items-center" :class="lang === 'fa' ? 'space-x-reverse' : ''">
        <li><a :href="'index.html?lang=' + lang" class="hover:text-primary transition font-medium" x-text="t('nav.home')"></a></li>
        <li><a :href="'index.html?lang=' + lang + '#products'" class="hover:text-primary transition font-medium" x-text="t('nav.products')"></a></li>
        <li><a :href="'index.html?lang=' + lang + '#about'" class="hover:text-primary transition font-medium" x-text="t('nav.about')"></a></li>
        <li><a :href="'index.html?lang=' + lang + '#contact'" class="hover:text-primary transition font-medium" x-text="t('nav.contact')"></a></li>
        <li><a :href="'terms.html?lang=' + lang" class="hover:text-primary transition font-medium" x-text="t('nav.terms')"></a></li>

        <template x-if="!isLoggedIn">
          <li><a :href="'register.html?lang=' + lang" class="hover:text-primary transition font-medium" x-text="t('nav.register')"></a></li>
          <li><a :href="'login.html?lang=' + lang" class="bg-primary hover:bg-primary/80 px-4 py-2 rounded-full text-white transition" x-text="t('nav.login')"></a></li>
        </template>
        <template x-if="isLoggedIn">
          <li class="flex items-center gap-3">
            <span class="text-sm text-gray-300" x-text="currentUser?.name || currentUser?.email.split('@')[0]"></span>
            <button @click="handleLogout()" class="bg-red-500 hover:bg-red-600 px-3 py-1.5 rounded text-white text-sm transition" x-text="t('nav.logout')"></button>
            <a :href="'shop.html?lang=' + lang" class="bg-gradient-to-r from-accent to-primary hover:from-primary hover:to-accent px-4 py-2 rounded-full text-white text-sm transition" x-text="t('nav.shop')"></a>
          </li>
        </template>
      </ul>
      <button @click="open = !open" class="md:hidden text-2xl">Menu</button>
    </div>
    <div x-show="open" class="md:hidden glass mx-4 mt-2 rounded-xl shadow-2xl" x-cloak>
      <ul class="py-4 text-right" :class="lang === 'fa' ? 'text-right' : 'text-left'">
        <li><a :href="'index.html?lang=' + lang" class="block px-6 py-3 hover:bg-primary/20" x-text="t('nav.home')"></a></li>
        <li><a :href="'index.html?lang=' + lang + '#products'" class="block px-6 py-3 hover:bg-primary/20" x-text="t('nav.products')"></a></li>
        <li><a :href="'index.html?lang=' + lang + '#about'" class="block px-6 py-3 hover:bg-primary/20" x-text="t('nav.about')"></a></li>
        <li><a :href="'index.html?lang=' + lang + '#contact'" class="block px-6 py-3 hover:bg-primary/20" x-text="t('nav.contact')"></a></li>
        <li><a :href="'terms.html?lang=' + lang" class="block px-6 py-3 hover:bg-primary/20" x-text="t('nav.terms')"></a></li>
        <template x-if="!isLoggedIn">
          <li><a :href="'register.html?lang=' + lang" class="block px-6 py-3 hover:bg-primary/20" x-text="t('nav.register')"></a></li>
          <li><a :href="'login.html?lang=' + lang" class="block px-6 py-3 bg-primary/20" x-text="t('nav.login')"></a></li>
        </template>
        <template x-if="isLoggedIn">
          <li class="px-6 py-3 flex items-center justify-between">
            <span x-text="currentUser?.name || currentUser?.email"></span>
            <button @click="handleLogout()" class="text-red-400" x-text="t('nav.logout')"></button>
          </li>
          <li><a :href="'shop.html?lang=' + lang" class="block px-6 py-3 bg-gradient-to-r from-accent to-primary text-white rounded-xl text-center" x-text="t('nav.shop')"></a></li>
        </template>
      </ul>
    </div>
  </nav>

  <!-- Terms Content -->
  <section class="container mx-auto px-6 py-32 max-w-4xl">
    <!-- تیتر اصلی با B Titr -->
    <h1 :class="lang === 'fa' ? 'font-faTitle text-3xl md:text-4xl text-center mb-12 fa-title' : 'text-3xl md:text-4xl text-center mb-12'"
        class="font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent" 
        x-text="t('terms.title')"></h1>

    <!-- محتوای قوانین -->
    <div class="glass p-6 md:p-8 rounded-3xl shadow-2xl">
      <div :class="lang === 'fa' ? 'text-sm md:text-base space-y-4 text-right terms-content' : 'text-sm md:text-base space-y-4'"
           class="leading-relaxed text-gray-300"
           x-html="getTermsContent()"></div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-card/50 py-6 sm:py-8 text-sm border-t border-primary/10">
    © 2025 Avarwand. All rights reserved.
  </footer>

  <!-- Alpine Logic -->
  <script>
    function app() {
      return {
        lang: 'en',
        isLoggedIn: false,
        currentUser: null,

        translations: {
          en: {
            brand: 'Avarwand',
            'nav.home': 'Home', 'nav.products': 'Products', 'nav.about': 'About', 'nav.contact': 'Contact', 'nav.terms': 'Terms of Use',
            'nav.register': 'Register', 'nav.login': 'Login', 'nav.logout': 'Logout', 'nav.shop': 'Shop',
            'terms.title': 'Terms of Use'
          },
          fa: {
            brand: 'اوروند',
            'nav.home': 'خانه', 'nav.products': 'محصولات', 'nav.about': 'درباره', 'nav.contact': 'تماس', 'nav.terms': 'قوانین استفاده',
            'nav.register': 'ثبت‌نام', 'nav.login': 'ورود', 'nav.logout': 'خروج', 'nav.shop': 'خرید',
            'terms.title': 'قوانین استفاده'
          },
          de: {
            brand: 'Avarwand',
            'nav.home': 'Start', 'nav.products': 'Produkte', 'nav.about': 'Über uns', 'nav.contact': 'Kontakt', 'nav.terms': 'Nutzungsbedingungen',
            'nav.register': 'Registrieren', 'nav.login': 'Einloggen', 'nav.logout': 'Ausloggen', 'nav.shop': 'Einkaufen',
            'terms.title': 'Nutzungsbedingungen'
          }
        },

        termsContent: {
          en: `
            <h2 class="text-lg font-bold text-white mb-3">1. Acceptance of Terms</h2>
            <p class="mb-4">By accessing or using Avarwand services, you agree to be bound by these Terms of Use. If you do not agree, please do not use our services.</p>
            <h2 class="text-lg font-bold text-white mb-3 mt-6">2. Intellectual Property</h2>
            <p class="mb-4">All content including software, music, images, and tutorials is protected by copyright and belongs to Avarwand. Unauthorized use is prohibited.</p>
            <h2 class="text-lg font-bold text-white mb-3 mt-6">3. User Responsibility</h2>
            <p class="mb-4">You are responsible for maintaining the confidentiality of your account and all activities under your account.</p>
            <h2 class="text-lg font-bold text-white mb-3 mt-6">4. Limitation of Liability</h2>
            <p class="mb-4">Avarwand is not liable for indirect, incidental, or consequential damages arising from the use of our services.</p>
            <h2 class="text-lg font-bold text-white mb-3 mt-6">5. Changes to Terms</h2>
            <p class="mb-4">We reserve the right to modify these terms at any time. Continued use constitutes acceptance of the new terms.</p>
            <p class="text-xs text-gray-400 mt-8">Last updated: November 2025</p>
          `,
          fa: `
            <h2 class="text-xl font-bold text-white mb-3 text-right">۱. پذیرش شرایط</h2>
            <p class="mb-4 text-right">با دسترسی یا استفاده از خدمات اوروند، شما با این قوانین موافقت می‌کنید. در صورت عدم موافقت، لطفاً از خدمات ما استفاده نکنید.</p>
            <h2 class="text-xl font-bold text-white mb-3 mt-6 text-right">۲. مالکیت معنوی</h2>
            <p class="mb-4 text-right">تمام محتوا شامل نرم‌افزار، موسیقی، تصاویر و آموزش‌ها تحت حفاظت کپی‌رایت بوده و متعلق به اوروند است. استفاده غیرمجاز ممنوع است.</p>
            <h2 class="text-xl font-bold text-white mb-3 mt-6 text-right">۳. مسئولیت کاربر</h2>
            <p class="mb-4 text-right">شما مسئول حفظ محرمانگی حساب خود و تمام فعالیت‌های انجام‌شده تحت حساب خود هستید.</p>
            <h2 class="text-xl font-bold text-white mb-3 mt-6 text-right">۴. محدودیت مسئولیت</h2>
            <p class="mb-4 text-right">اوروند در قبال خسارات غیرمستقیم، اتفاقی یا تبعی ناشی از استفاده از خدمات ما مسئولیتی ندارد.</p>
            <h2 class="text-xl font-bold text-white mb-3 mt-6 text-right">۵. تغییرات در قوانین</h2>
            <p class="mb-4 text-right">ما حق تغییر این قوانین را در هر زمان داریم. ادامه استفاده به منزله پذیرش قوانین جدید است.</p>
            <p class="text-xs text-gray-400 mt-8 text-right">آخرین به‌روزرسانی: آبان ۱۴۰۴</p>
          `,
          de: `
            <h2 class="text-lg font-bold text-white mb-3">1. Annahme der Bedingungen</h2>
            <p class="mb-4">Durch die Nutzung von Avarwand-Diensten stimmen Sie diesen Bedingungen zu. Bei Ablehnung dürfen Sie unsere Dienste nicht nutzen.</p>
            <h2 class="text-lg font-bold text-white mb-3 mt-6">2. Geistiges Eigentum</h2>
            <p class="mb-4">Alle Inhalte einschließlich Software, Musik, Bilder und Tutorials sind urheberrechtlich geschützt und gehören Avarwand. Unbefugte Nutzung ist verboten.</p>
            <h2 class="text-lg font-bold text-white mb-3 mt-6">3. Nutzerverantwortung</h2>
            <p class="mb-4">Sie sind für die Vertraulichkeit Ihres Kontos und alle Aktivitäten unter Ihrem Konto verantwortlich.</p>
            <h2 class="text-lg font-bold text-white mb-3 mt-6">4. Haftungsbeschränkung</h2>
            <p class="mb-4">Avarwand haftet nicht für indirekte, zufällige oder Folgeschäden aus der Nutzung unserer Dienste.</p>
            <h2 class="text-lg font-bold text-white mb-3 mt-6">5. Änderungen der Bedingungen</h2>
            <p class="mb-4">Wir behalten uns das Recht vor, diese Bedingungen jederzeit zu ändern. Weiter Nutzung gilt als Zustimmung zu den neuen Bedingungen.</p>
            <p class="text-xs text-gray-400 mt-8">Zuletzt aktualisiert: November 2025</p>
          `
        },

        getTermsContent() {
          return this.termsContent[this.lang] || this.termsContent.en;
        },

        t(key) { return this.translations[this.lang][key] || key; },
        brand() { return this.translations[this.lang].brand; },
        flag(lang) { return lang === 'fa' ? 'https://flagcdn.com/ir.svg' : lang === 'de' ? 'https://flagcdn.com/de.svg' : 'https://flagcdn.com/us.svg'; },

        setLang(newLang) {
          this.lang = newLang;
          localStorage.setItem('lang', newLang);
          document.documentElement.lang = newLang;
          document.documentElement.dir = newLang === 'fa' ? 'rtl' : 'ltr';
        },

        initLang() {
          const urlParams = new URLSearchParams(window.location.search);
          const urlLang = urlParams.get('lang');
          if (urlLang && ['en', 'fa', 'de'].includes(urlLang)) {
            this.setLang(urlLang);
          } else {
            const saved = localStorage.getItem('lang');
            this.setLang(saved || 'en');
          }
        },

        initAuth() {
          if (typeof Auth !== 'undefined' && Auth.isLoggedIn()) {
            this.isLoggedIn = true;
            this.currentUser = Auth.getCurrentUser();
          } else {
            this.isLoggedIn = false;
            this.currentUser = null;
          }
        },

        handleLogout() {
          if (typeof Auth !== 'undefined') Auth.logout();
          this.isLoggedIn = false;
          this.currentUser = null;
          window.location.href = `index.html?lang=${this.lang}`;
        }
      };
    }
  </script>
</body>
</html>